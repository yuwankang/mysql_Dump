# **MySQL Data Dump and Import Project** ğŸ“¦

## **í”„ë¡œì íŠ¸ ê°œìš”** 
ì´ í”„ë¡œì íŠ¸ëŠ” **Docker**ë¥¼ ì´ìš©í•˜ì—¬ MySQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ **íš¨ìœ¨ì ìœ¼ë¡œ ë¤í”„**í•˜ê³ , ìƒˆë¡œìš´ MySQL ë°ì´í„°ë² ì´ìŠ¤ì— **ë°˜ì˜í•˜ëŠ” ë°©ë²•**ì„ ë‹¤ë£¹ë‹ˆë‹¤. 

- **ëª©ì ** ğŸ¯: ë°ì´í„° ê´€ë¦¬ì˜ ì¤‘ìš”ì„±ì´ ì»¤ì§ì— ë”°ë¼, ì£¼ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•˜ê³  ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ì— ì„í¬íŠ¸í•˜ëŠ” **ìë™í™”ëœ ì‘ì—…**ì„ ì„¤ì •í•˜ì—¬, ë°ì´í„°ì˜ ì•ˆì „ì„±ê³¼ ë¬´ê²°ì„±ì„ ë³´ì¥í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

- **ê¸°ìˆ  ìŠ¤íƒ** âš™ï¸: Dockerë¥¼ í™œìš©í•¨ìœ¼ë¡œì¨ ê°€ìƒí™”ëœ í™˜ê²½ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ìš´ì˜í•˜ê³ , í•„ìš”í•  ë•Œë§ˆë‹¤ ì†ì‰½ê²Œ ë°°í¬ ë° ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ì¥ì ì„ ê°€ì§‘ë‹ˆë‹¤. Docker Composeë¥¼ í†µí•´ ì—¬ëŸ¬ ì„œë¹„ìŠ¤ì˜ ì„¤ì •ì„ ê°„í¸í•˜ê²Œ ê´€ë¦¬í•˜ë©°, MySQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ì„¤ì • ë° ìš´ì˜ì„ ìµœì í™”í•©ë‹ˆë‹¤.

- **ìë™í™”ì˜ ì´ì ** ğŸ¤–: ì •ê¸°ì ì¸ ë°ì´í„° ë°±ì—…ê³¼ ì´ê´€ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë™í™”í•¨ìœ¼ë¡œì¨ ì¸ì  ì˜¤ë¥˜ë¥¼ ìµœì†Œí™”í•˜ê³ , ì‹œìŠ¤í…œ ê´€ë¦¬ìì˜ ì‹œê°„ì„ ì ˆì•½í•˜ë©°, ë°ì´í„° ìœ ì‹¤ì˜ ìœ„í—˜ì„ í¬ê²Œ ì¤„ì…ë‹ˆë‹¤. 

- **ìŠ¤ì¼€ì¼ë§ê³¼ ìœ ì—°ì„±** ğŸ“ˆ: ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ êµ¬ì¶•ëœ ë°ì´í„° ê´€ë¦¬ ì‹œìŠ¤í…œì€ í–¥í›„ ë°ì´í„°ë² ì´ìŠ¤ì˜ í™•ì¥ ë° ë³€í™”ë¥¼ ìˆ˜ì›”í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆì–´, MSA(ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜) í™˜ê²½ì—ì„œë„ íš¨ê³¼ì ìœ¼ë¡œ ì ìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


---

## **ëª©ì°¨** ğŸ“š
- [ìš”êµ¬ ì‚¬í•­](#ìš”êµ¬-ì‚¬í•­)
- [ì„¤ì¹˜](#ì„¤ì¹˜)
- [ì‚¬ìš© ë°©ë²•](#ì‚¬ìš©-ë°©ë²•)
- [Cron ì„¤ì •](#cron-ì„¤ì •)
- [ë³¼ë¥¨ ì‚¬ìš©](#ë³¼ë¥¨-ì‚¬ìš©)
- [íŒŒì¼ í™•ì¸ ë°©ë²•](#íŒŒì¼-í™•ì¸-ë°©ë²•)
- [ê²°ë¡ ](#ê²°ë¡ )

---

## **ìš”êµ¬ ì‚¬í•­** 
- **Docker** ğŸ³
- **Docker Compose** ğŸ“¦

---

## **ì„¤ì¹˜** ğŸ”§
1. **Docker ë° Docker Compose ì„¤ì¹˜**: 
   ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì—¬ ì„¤ì¹˜í•©ë‹ˆë‹¤.

2. **Docker Compose íŒŒì¼ ìƒì„±**:  
   ì•„ë˜ì˜ ë‚´ìš©ì„ `docker-compose.yml` íŒŒì¼ì— ì €ì¥í•©ë‹ˆë‹¤.

   ```yaml
   version: '3.8'
   services:
     mysql:
       container_name: mysql
       image: 'mysql:latest'
       environment:
         - 'MYSQL_DATABASE=fisa'
         - 'MYSQL_USER=newuser'
         - 'MYSQL_PASSWORD=root'
         - 'MYSQL_ROOT_PASSWORD=root'
       ports:
         - '3306:3306'
       volumes:
         - 'mysql_data:/var/lib/mysql'
     
     newmysqldb:
       container_name: newmysqldb
       image: 'mysql:latest'
       environment:
         - 'MYSQL_DATABASE=newfisa'
         - 'MYSQL_USER=newuser'
         - 'MYSQL_PASSWORD=root'
         - 'MYSQL_ROOT_PASSWORD=root'
       ports:
         - '3307:3306'
       volumes:
         - 'new_mysql_data:/var/lib/mysql'
   
   volumes:
     mysql_data:
     new_mysql_data:

## ì‚¬ìš© ë°©ë²•ğŸš€
1. **Docker Compose ì‹¤í–‰**:
   ```bash
   docker-compose up -d
   ```
![image](https://github.com/user-attachments/assets/684c50da-6748-4b59-bc6d-411d107c5239)

2. **ë°ì´í„° ë°±ì—… ë° ì„í¬íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±**:
   ì•„ë˜ì˜ ë‚´ìš©ì„ `backup_and_import.sh` íŒŒì¼ì— ì €ì¥í•©ë‹ˆë‹¤.

   ```bash
   #!/bin/bash

   # ë°ì´í„° ë¤í”„
   docker exec mysql sh -c 'exec mysqldump -u root -p"root" fisa' > /home/username/mysqlDump/fisa_dump.sql

   # ë¤í”„ íŒŒì¼ ë³µì‚¬
   docker cp /home/username/mysqlDump/fisa_dump.sql newmysqldb:/fisa_dump.sql

   # ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ì— ë°ì´í„° ì„í¬íŠ¸
   docker exec -it newmysqldb bash -c 'mysql -u root -p"root" newfisa < /fisa_dump.sql'

   echo "ë°ì´í„°ë² ì´ìŠ¤ ë¤í”„ ë° importê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤."
   ```

   ìŠ¤í¬ë¦½íŠ¸ì— ì‹¤í–‰ ê¶Œí•œì„ ë¶€ì—¬í•©ë‹ˆë‹¤:
   ```bash
   chmod +x /home/username/mysqlDump/backup_and_import.sh
   ```
![image](https://github.com/user-attachments/assets/74de0292-990a-419c-bb9b-da52fa498416)

3. **ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰**:
- ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ crontabì„ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ë„ë¡ í•©ë‹ˆë‹¤.
   ```bash
   /home/username/mysqlDump/backup_and_import.sh
   ```
![image](https://github.com/user-attachments/assets/93799644-1b7e-472c-9961-ae42d62dafe5)


## Cron ì„¤ì •â°
ì •ê¸°ì ìœ¼ë¡œ ë°±ì—… ë° ì„í¬íŠ¸ë¥¼ ì‹¤í–‰í•˜ê¸° ìœ„í•´ Cronì„ ì„¤ì •í•©ë‹ˆë‹¤:
```bash
0 0 * * * /home/username/mysqlDump/backup_and_import.sh
```
![image](https://github.com/user-attachments/assets/65e2c8e5-95fa-46bd-bf56-51f6035bc1cb)

ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ ë§¤ì¼ ìì •ì— ë°±ì—… ë° ì„í¬íŠ¸ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

## ë³¼ë¥¨ ì‚¬ìš©ğŸ’¾
Docker ë³¼ë¥¨ì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ì˜ ì§€ì†ì„±ì„ ìœ ì§€í•©ë‹ˆë‹¤. ê° ì»¨í…Œì´ë„ˆì˜ ë°ì´í„°ëŠ” `mysql_data` ë° `new_mysql_data` ë³¼ë¥¨ì— ì €ì¥ë©ë‹ˆë‹¤.

## íŒŒì¼ í™•ì¸ ë°©ë²•ğŸ”
1. **ë³µì‚¬ëœ íŒŒì¼ í™•ì¸**:
   ```bash
   docker exec -it newmysqldb bash
   ls /fisa_dump.sql
   ```
 ![image](https://github.com/user-attachments/assets/fb5717b3-4d8c-4fe8-ab22-5619d0e1166e)


2. **íŒŒì¼ ë‚´ìš© í™•ì¸**:
   ```bash
   cat /fisa_dump.sql
   ```
![image](https://github.com/user-attachments/assets/a1c831a2-3485-4cd9-8217-7eb5d0a89dd2)

3. **MySQLì—ì„œ ë°ì´í„° í™•ì¸**:
   ```bash
   mysql -u root -p"root" newfisa
   SHOW TABLES;
   SELECT * FROM test_table;
   ```
![image](https://github.com/user-attachments/assets/48b0a952-6279-4bc7-ba07-4d2a38532745)

## ğŸ‰ ê²°ë¡ 
ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ MySQL ë°ì´í„°ë² ì´ìŠ¤ì˜ ë°ì´í„°ë¥¼ **ìë™ìœ¼ë¡œ ë¤í”„í•˜ê³ **, ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ì— **ì„í¬íŠ¸**í•˜ëŠ” ë°©ë²•ì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ¬í•œ ìë™í™” ê³¼ì •ì€ ë°ì´í„° ê´€ë¦¬ì˜ íš¨ìœ¨ì„±ì„ í¬ê²Œ í–¥ìƒì‹œí‚µë‹ˆë‹¤. 

- **ì •ê¸°ì ì¸ ë°ì´í„° ë°±ì—…ğŸ”„**: Cronì„ í™œìš©í•˜ì—¬ ë§¤ì¼ ìì •ì— ìë™ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•¨ìœ¼ë¡œì¨ ë°ì´í„° ìœ ì‹¤ì˜ ìœ„í—˜ì„ ìµœì†Œí™”í•˜ê³ , ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ë°±ì—… ì²´ê³„ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

- **ë°ì´í„° ì´ê´€ì˜ ìš©ì´í•¨ğŸ”€**: ìƒˆë¡œìš´ ë°ì´í„°ë² ì´ìŠ¤ë¡œì˜ ë°ì´í„° ì „í™˜ì´ ìˆ˜ì›”í•´ì ¸, ìš´ì˜ í™˜ê²½ ë³€í™”ë‚˜ ì‹œìŠ¤í…œ ì—…ê·¸ë ˆì´ë“œì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ìŠ¤ì¼€ì¼ë§ ê°€ëŠ¥ì„±ğŸ“Š**: ì´ì™€ ê°™ì€ ë°ì´í„° ê´€ë¦¬ ìë™í™”ëŠ” ì—¬ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ë‹¤ë£° ë•Œ ë”ìš± ìœ ìš©í•˜ë©°, í–¥í›„ **MSA**(Microservices Architecture) í™˜ê²½ì—ì„œë„ ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ìœ ì§€ ê´€ë¦¬ì˜ ê°„ì†Œí™”âœ¨**: ìˆ˜ë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ë˜ ë°ì´í„° ë°±ì—… ë° ì´ê´€ ì‘ì—…ì„ ìë™í™”í•˜ì—¬, ì¸ì  ì˜¤ë¥˜ë¥¼ ì¤„ì´ê³ , ê´€ë¦¬ìì˜ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
